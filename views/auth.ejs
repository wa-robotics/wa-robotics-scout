<!DOCTYPE html>
<html>

<head>
    <base target="_top">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= //noinspection BadExpressionStatementJS
        title %>
    </title>
    <link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.blue_grey-orange.min.css" />
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="stylesheets/global.css" type="text/css" />
    <link rel="stylesheet" href="stylesheets/auth.css" type="text/css" />

    <!-- for Firebase -->
    <script src="https://www.gstatic.com/firebasejs/3.6.1/firebase.js"></script>
    <script>

        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyAIvK9HrI4P7MJlzjOHmcWeja2BPEInuTo",
            authDomain: "wa-robotics-scout.firebaseapp.com",
            databaseURL: "https://wa-robotics-scout.firebaseio.com",
            storageBucket: "wa-robotics-scout.appspot.com",
            messagingSenderId: "490870467180"
        };
        firebase.initializeApp(config);
    </script>
    <script src="https://cdn.firebase.com/libs/firebaseui/1.0.0/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/1.0.0/firebaseui.css" />
    <script>
        // FirebaseUI config.
        var uiConfig = {
            <% if (redirect === "join") {%>
            'signInSuccessUrl': '/join/<%- inviteCode %>',
            <% } else { %>
            'signInSuccessUrl': '/',
            <% } %>
            'signInOptions': [
                // Leave the lines as is for the providers you want to offer your users.
                firebase.auth.GoogleAuthProvider.PROVIDER_ID,
                //firebase.auth.FacebookAuthProvider.PROVIDER_ID,
                //firebase.auth.TwitterAuthProvider.PROVIDER_ID,
                //firebase.auth.GithubAuthProvider.PROVIDER_ID,
                firebase.auth.EmailAuthProvider.PROVIDER_ID
            ],
            // Terms of service url.
            'tosUrl': '/about/terms',
        };

    </script>


</head>

<body class="mdl-color--grey-50">
<script>
    var redirect = "<%- redirect%>",
        inviteCode = "<%- inviteCode%>";
</script>
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <%- include('nav', {includeMenu: false, includeSignOut: false}); %>
    <main class="mdl-layout__content">
        <div class="page-content">
            <div class="mdl-grid">
                <div id="sign-in-container" class="mdl-cell--4-col-desktop mdl-cell--4-offset-desktop mdl-cell--6-col-tablet mdl-cell--1-offset-tablet mdl-cell-4-col-phone">
                    <h4 class="mdl-typography--text-center">Sign in to WA Robotics Scout</h4>
                    <div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active" id="sign-in-loading"></div>
                    <div class="hidden" id="firebaseui-auth-container"></div>
                </div>
            </div>
        </div>
        <%- include("footer")%>
    </main>

</div>
<script src="https://code.getmdl.io/1.1.3/material.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="javascripts/signin.js"></script>
<%- include("analytics"); %>
</body>

</html>

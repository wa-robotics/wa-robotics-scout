<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <?!= HtmlService.createHtmlOutputFromFile('Stylesheet').getContent(); ?>
  </head>
  <body>
    <div id="step1">
        <div class="header">
          Step 1 of 7: Welcome!
        </div>
        <div class="content">
          <p>You're about to setup WARS for the first time.  Seem complicated?  WARS will guide you through all the setup steps.  Click Continue to get started, or read on for more information.</p>
          <p>You'll need all of these to complete this wizard:
            <ul>
               <li>Your tournament's RobotEvents SKU</li>
               <li>Knowledge of who is competing on what teams in your school - make sure this spreadsheet is shared with all of these people</li>
               <li>A list of team's that you think will be competitive with you</li>
            </ul>
          <p>
        </div>
        <div class="button-bar">
              <button id="dialog-cancel-button" class="button" onclick="google.script.host.close()">Not now</button>
              <button class="button blue" id="s1-next">Continue</button>
        </div>
      </div>
      <div id="step2" class="hidden">
        <div class="header">
          Step 2 of 7: Tourament Information
        </div>
        <div class="content">
          <p>Here are the events going on today.  If you see your event, select it in the list below. If your event has multiple divisions, WA Robotics Scout will automatically
            determine which divisions your teams are in and get match info for all of those divisions.</p>
          <p id="events-loading">Loading... just a sec!</p>
          <p class="error hidden" id="event-search-error">WA Robotics Scout couldn't search for events happening today because of an error.  Check your internet connection, then click <strong>Retry</strong> below.
          <p class="error hidden" id="no-events-found">WA Robotics Scout didn't find any events happening today.  To continue anyways, paste your event SKU in the box below.</p>
          <p class="error hidden" id="no-event-selected">Select an event or enter an event SKU to continue.</p>
          <div id="events-list" class="hidden">
          </div>
          <br />
          <a id="show-sku-input">I don't see my event here.</a>
          <div id="sku-input-div" class="hidden">
            <p id="sku-input">Event not listed here?  Go the RobotEvents page for your event, find the SKU, and paste it below.</p>
            <p class="hidden" id="warn-text-sku-entry">If you enter an SKU here, WARS will use the SKU you enter instead of any event you may have selected above.  If you change your mind, just empty this box and select an event from the list above.</p> 
            <input type="text" class="width-100" placeholder="RobotEvents SKU" id="tournament-sku" />
          </div>
        </div>
        <div class="button-bar">
          <button class="button" id="s2-back">Go back</button>
          <button class="button blue" id="s2-next">Continue</button>
        </div>
      </div>
       <div id="step3" class="hidden">
        <div class="header">
          Step 3 of 7: Your Robotics Organization
        </div>
        <div class="content">
          <p>In the box below, enter each of the teams associated with your school or other organization.  Press enter after each team.</p>
          <textarea rows="10" cols="60" id="org-teams"></textarea>
        </div>
        <div class="button-bar">
          <button class="button" id="s3-back">Go back</button>
          <button class="button blue" id="s3-next">Continue</button>
        </div>
      </div> 
      <div id="step4" class="hidden">
        <div class="header">
          Step 4 of 7: Team Information
        </div>
        <div class="content">
          <p>For each team you entered in the previous step, enter the number of people who are members of the driveteam for that robot.  In the "Additional team members" field, 
          enter the number of people who are not on a driveteam but can scout matches.</p>
          <div id="team-list">
          </div>
        </div>
        <div class="button-bar">
          <button class="button" id="s4-back">Go back</button>
          <button class="button blue" id="s4-next">Continue</button>
        </div>
      </div>
      <div id="step5" class="hidden">
        <div class="header">
          Step 5 of 7: High Interest Teams
        </div>
        <div class="content">
          <p>In the box below, enter the team numbers of the teams you're interested in.  Make sure to press Enter or Return after each team number.</p>
          <p>Check your responses carefully!  After you click continue, WA Robotics Scout will process all of the information you've entered so far.
          <textarea rows="10" cols="60" id="teams-to-scout"></textarea>
        </div>
        <div class="button-bar">
          <button class="button" id="s5-back">Go back</button>
          <button class="button blue" id="s5-next">Continue</button>
        </div>
      </div>
      <div id="step6" class="hidden">
        <div class="header">
          Step 6 of 7: Processing
        </div>
        <div class="content">
          <p>WA Robotics Scout is getting everything ready for you!  This might take a few minutes.</p>
          <p>Here's what WARS is up to right now:</p>
          <ul id="status-list">
            <li id="save-sku-status">Saving tournament SKU...</li>
            <li id="get-team-divisions-status" class="hidden">Finding which divisions your teams are in...</li>
            <li id="refresh-data-status" class="hidden">Getting tournament data from RobotEvents...</li>
            <li id="create-forms-status" class="hidden">Creating scouting and team interview forms...</li>
            <li id="run-mir-status" class="hidden">Processing match data...</li>
            <li id="get-ss-id" class="hidden">Getting WARS Web URL...</li>
          </ul>     
        </div>
      </div>
      <div id="step7" class="hidden">
        <div class="header">
          Step 7 of 7: Success!
        </div>
        <div class="content">
          <p>You're all set!  Tell everyone on your team to check their emails for some important information from WA Robotics Scout.</p>
          <p id="wars-web-url">Here's the URL for WA Robotics Scout Web: </p>
          <p>Click <strong>Finish</strong> to close this wizard and start using WA Robotics Scout!</p>
        </div>
        <div class="button-bar">
          <button class="button blue" id="s6-done" onclick="google.script.host.close()">Finish</button>
        </div>
      </div>
      <div id="step8" class="hidden">
        <div class="header">
          Something went wrong :(
        </div>
        <div class="content">
          <p>Eek!  WA Robotics Scout had some trouble getting setup.</p>
          <p>Fix these errors, and then try again:</p>
          <ul id="error-list">
          </ul>
          
          <p>Click <strong>Try again</strong> to restart the wizard or <strong>Exit</strong> to leave the wizard.</p>
        </div>
        <div class="button-bar">
          <button class="button" id="error-exit" onclick="google.script.host.close()">Exit</button>
          <button class="button blue" id="error-restart">Try again</button>
        </div>
      </div>
    <div class="status"></div>
    
    <?!= HtmlService.createHtmlOutputFromFile('setupWizardJs').getContent(); ?>
  </body>
</html>



